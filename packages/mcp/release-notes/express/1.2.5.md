---
version: 1.2.5
date: 2026-01-23
summary: Fix array query parameters with bracket notation in API Gateway v1 events
---

# @jaypie/express 1.2.5

## Bug Fixes

### Array Query Parameters with Bracket Notation

Fixed a bug where array query parameters using bracket notation (e.g., `?filterByStatus[]=APPROVED&filterByStatus[]=RESOLVED`) were completely ignored when using AWS API Gateway REST API v1 events.

**Before:**
```javascript
// URL: ?filterByStatus[]=APPROVED&filterByStatus[]=RESOLVED
req.query = { "filterByStatus[]": "RESOLVED" }  // Only last value, brackets preserved
```

**After:**
```javascript
// URL: ?filterByStatus[]=APPROVED&filterByStatus[]=RESOLVED
req.query = { filterByStatus: ["APPROVED", "RESOLVED"] }  // Array with normalized key
```

## Changes

- Now uses `multiValueQueryStringParameters` from API Gateway v1 events instead of `queryStringParameters` to capture all values
- Normalizes bracket notation by stripping `[]` suffix from keys
- Properly handles multi-value query parameters in Function URL v2 events via `rawQueryString` parsing
- Single values remain as strings unless bracket notation is used
- Values with bracket notation are always arrays (even with single values)
