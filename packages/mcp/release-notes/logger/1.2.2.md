---
version: 1.2.2
date: 2026-02-18
summary: Add opt-in Datadog log forwarding transport for non-Lambda environments
---

## Changes

- Add `DatadogLogTransport` that ships logs directly to Datadog's Logs API via HTTPS when enabled by env vars
- Transport activates when `DATADOG_LOCAL_FORWARDING=true` and `DATADOG_API_KEY` is set â€” zero application code changes needed
- Batches logs (flush every 5s or at 100 entries) with atomic buffer swap and best-effort flush on process exit
- Auto-tags entries with `ddsource`, `service`, `env`, and `hostname` from DD_* and PROJECT_* env vars
- Transport errors are silently swallowed and never affect stdout logging
- Export `isDatadogForwardingEnabled()` and `_resetDatadogTransport()` for inspection and Lambda lifecycle
- `init()` now resets the Datadog transport so env vars are re-read between Lambda invocations
